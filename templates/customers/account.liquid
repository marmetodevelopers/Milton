<script src="{{ 'account-page-tabs.js' | asset_url }}" defer="defer"></script>
{%- paginate customer.orders by 20 -%}
<style>
  .logout-btn {
    cursor: pointer;
  }
</style>

{% comment %}=========================================== Account Page Tabs Starting ========================={%endcomment %}
<div class="faq-section">
  <div class="faq-container section-{{ section.id }}-padding">
    <div class="bg-{{section.id}}">
      <div class="faq_section-list page-width">
        <div class="faq_section-left ">
          <h1 class="section-header__title"><span>{% render 'hello-icon' %}</span> Hello, {{ customer.name }}</h1>
{% render 'hulkapps-wishlist-account-btn' %}
          <div class="main_container_tab_section">
            <h3 class="tablinks details is--active " data-tab="Tab-{{ section.id }}-1">
              Account Overview
            </h3>
            <h3 class="tablinks details" data-tab="Tab-{{ section.id }}-2">
              Address
            </h3>
            <h3 class="tablinks details" data-tab="Tab-{{ section.id }}-3">
              Manage Orders
            </h3>
            <h3 class="tablinks details whishlist" data-tab="Tab-{{ section.id }}-4">
              Wishlist
            </h3>
          </div>
        </div>

        <div class="faq_section-right">
          {% comment %}=========  Account Overview ============= {% endcomment %}
          <div id="Tab-{{ section.id }}-1" class="tab-content details question1" data-tab="Tab-{{ section.id }}-1"> {%
            assign index = forloop.index %} {% if forloop.index == index %} <p class="faq-tab__details">
            <div class="product-tab__content tab_content_account_page">
              <div class="account_overview_text">
                <p class="customer_details_overview cutsomer_name_account"> {% render 'account-icon' %} {{ customer.name }} </p>
                <p class="customer_main_id"> Email: {{ customer.email }} </p>
                <p> Phone: {{ customer.phone }} </p>
              </div>
              <div class="address_book_account_page">
                <p class="address_account">{% render 'address-icon' %} Address Book</p>
                <p class="address_text_save">Checkout faster with your saved addresses</p>
                <button class="account_shipping tablinks"  data-tab="Tab-{{ section.id }}-2">Shipping Address</button>
              </div>
              <div class="address_whishlist_icon address_book_account_page">
                <p class="address_account_wishlist">{% render 'wishlist-icon' %} Wishlist</p>
                <p class="address_text_save">Edit name, mailing address, phone number, birthday, and shopping
                  preference.</p>
                  <button class="account_wishlist tablinks" data-tab="Tab-{{ section.id }}-4">View Items</button>
              </div>
              <div class="manage_order_items address_book_account_page">
                <p class="address_account">{% render 'manage-order-icon' %} Manage Orders</p>
                <p class="address_text_save">Your Milton Home online orders</p>
                <button class="account_manage_order tablinks" data-tab="Tab-{{ section.id }}-3">View Orders</button>
              </div>
              <a href="{{ routes.account_logout_url }}" class="section-header__link logout_btn_account section-header__link logout-btn" >{% render 'logout-icon' %} {{ 'layout.customer.log_out'| t }}</a>
              </div>
            </p> {% endif %}
          </div>
 {% comment %}=========  End Account Overview ============= {% endcomment %}
          <div id="Tab-{{ section.id }}-2" class="tab-content details question2" data-tab="Tab-{{ section.id }}-2"> {%
            assign index = forloop.index %} {% if forloop.index == index %} <p class="faq-tab__details">
            <div class="product-tab__content addres_form_account">
              {% comment %}===============Address============================== {% endcomment %}
              {%- paginate customer.addresses by 5 -%}
              <div class="page-width page-width--narrow page-content">
                {%- if settings.show_breadcrumbs -%}
                <nav class="breadcrumb" role="navigation" aria-label="breadcrumbs">
                  <a href="{{ routes.account_url }}">{{ 'customer.account.title' | t }}</a>
                  <span class="divider" aria-hidden="true">></span>
                  Address
                </nav>
                {%- endif -%}
                <header class="section-header section-header--with-link">
                  <h1 class="section-header__title">Address</h1>
{% render 'hulkapps-wishlist-account-btn' %}
                  <button type="button" class="section-header__link address-new-toggle">
                    {{ 'customer.addresses.add_new' | t }}</a>
                </header>
                <div class="main_account_address">
                  <div id="AddressNewForm" class="form-vertical js-address-form text-left hide">
                    {%- form 'customer_address', customer.new_address -%}
                    <h2>{{ 'customer.addresses.add_new' | t }}</h2>
                    <div class="grid grid--small">
                      <div class="grid__item one-half small--one-whole">
                        <label for="AddressFirstNameNew">{{ 'customer.addresses.first_name' | t }}</label>
                        <input type="text" id="AddressFirstNameNew" class="input-full" name="address[first_name]"
                          value="{{form.first_name}}" autocapitalize="words">
                      </div>
                      <div class="grid__item one-half small--one-whole">
                        <label for="AddressLastNameNew">{{ 'customer.addresses.last_name' | t }}</label>
                        <input type="text" id="AddressLastNameNew" class="input-full" name="address[last_name]"
                          value="{{form.last_name}}" autocapitalize="words">
                      </div>
                    </div>
                    <label for="AddressCompanyNew">{{ 'customer.addresses.company' | t }}</label>
                    <input type="text" id="AddressCompanyNew" class="input-full" name="address[company]"
                      value="{{form.company}}" autocapitalize="words">
                    <label for="AddressAddress1New">{{ 'customer.addresses.address1' | t }}</label>
                    <input type="text" id="AddressAddress1New" class="input-full" name="address[address1]"
                      value="{{form.address1}}" autocapitalize="words">
                    <label for="AddressAddress2New">{{ 'customer.addresses.address2' | t }}</label>
                    <input type="text" id="AddressAddress2New" class="input-full" name="address[address2]"
                      value="{{form.address2}}" autocapitalize="words">
                    <div class="grid grid--small">
                      <div class="grid__item medium-up--one-half">
                        <label for="AddressCityNew">{{ 'customer.addresses.city' | t }}</label>
                        <input type="text" id="AddressCityNew" class="input-full" name="address[city]"
                          value="{{form.city}}" autocapitalize="words">
                      </div>
                      <div class="grid__item medium-up--one-half js-address-country" data-country-id="AddressCountryNew"
                        data-province-container-id="AddressProvinceContainerNew" data-province-id="AddressProvinceNew">
                        <label for="AddressCountryNew">{{ 'customer.addresses.country' | t }}</label>
                        <select id="AddressCountryNew" class="input-full" name="address[country]"
                          data-default="{{form.country}}">{{ country_option_tags }}</select>
                      </div>
                      <div class="grid__item" id="AddressProvinceContainerNew" style="display: none;">
                        <label for="AddressProvinceNew">{{ 'customer.addresses.province' | t }}</label>
                        <select id="AddressProvinceNew" class="input-full" name="address[province]"
                          data-default="{{form.province}}"></select>
                      </div>
                      <div class="grid__item medium-up--one-half">
                        <label for="AddressZipNew">{{ 'customer.addresses.zip' | t }}</label>
                        <input type="text" id="AddressZipNew" class="input-full" name="address[zip]"
                          value="{{form.zip}}" autocapitalize="characters">
                      </div>
                      <div class="grid__item medium-up--one-half">
                        <label for="AddressPhoneNew">{{ 'customer.addresses.phone' | t }}</label>
                        <input type="tel" id="AddressPhoneNew" class="input-full" name="address[phone]"
                          value="{{form.phone}}">
                      </div>
                    </div>
                    <p class="main_address_link">
                      {{ form.set_as_default_checkbox }}
                      <label for="address_default_address_new" class="inline">{{ 'customer.addresses.set_default' | t }}</label>
                    </p>
                    <p>
                      <label for="addresses-add-submit" class="hidden-label">{{ 'customer.addresses.add' | t }}</label>
                      <button type="submit" id="addresses-add-submit" class="btn">
                        {{ 'customer.addresses.add' | t }}
                      </button>
                    </p>
                    <p>
                      <label for="addresses-cancel-submit" class="hidden-label">{{ 'customer.addresses.cancel' | t}}</label>
                      <button type="button" id="addresses-cancel-submit" class="text-link address-new-toggle">{{ 'customer.addresses.cancel' | t }}</button>
                    </p>
                    {%- endform -%}
                  </div>
                  {%- for address in customer.addresses -%}
                  {%- if address == customer.default_address -%}
                  <span class="h4">{{ 'customer.addresses.default' | t }}</span>
                  {%- endif -%}
                  {{ address | format_address }}
                  <p>
                    <button type="button" class="btn btn--small address-edit-toggle" data-form-id="{{ address.id }}">{{  'customer.addresses.edit' | t }}</button>
                    <button type="button" class="btn btn--secondary btn--small address-delete"
                      data-form-id="{{ address.id }}"
                      data-confirm-message="{{ 'customer.addresses.delete_confirm' | t }}">{{ 'customer.addresses.delete' | t }}</button>
                  </p>
                  <div id="EditAddress_{{ address.id }}" class="form-vertical js-address-form text-left hide">
                    {%- form 'customer_address', address -%}
                    <hr class="hr--large" />
                    <h2>{{ 'customer.addresses.edit_address' | t }}</h2>
                    <div class="grid grid--small">
                      <div class="grid__item one-half small--one-whole">
                        <label for="AddressFirstName_{{form.id}}">{{ 'customer.addresses.first_name' | t }}</label>
                        <input type="text" id="AddressFirstName_{{form.id}}" class="input-full"
                          name="address[first_name]" value="{{form.first_name}}" autocapitalize="words">
                      </div>
                      <div class="grid__item one-half small--one-whole">
                        <label for="AddressLastName_{{form.id}}">{{ 'customer.addresses.last_name' | t }}</label>
                        <input type="text" id="AddressLastName_{{form.id}}" class="input-full" name="address[last_name]"
                          value="{{form.last_name}}" autocapitalize="words">
                      </div>
                    </div>
                    <label for="AddressCompany_{{form.id}}">{{ 'customer.addresses.company' | t }}</label>
                    <input type="text" id="AddressCompany_{{form.id}}" class="input-full" name="address[company]"
                      value="{{form.company}}" autocapitalize="words">
                    <label for="AddressAddress1_{{form.id}}">{{ 'customer.addresses.address1' | t }}</label>
                    <input type="text" id="AddressAddress1_{{form.id}}" class="input-full" name="address[address1]"
                      value="{{form.address1}}" autocapitalize="words">
                    <label for="AddressAddress2_{{form.id}}">{{ 'customer.addresses.address2' | t }}</label>
                    <input type="text" id="AddressAddress2_{{form.id}}" class="input-full" name="address[address2]"
                      value="{{form.address2}}" autocapitalize="words">
                    <label for="AddressCity_{{form.id}}">{{ 'customer.addresses.city' | t }}</label>
                    <input type="text" id="AddressCity_{{form.id}}" class="input-full" name="address[city]"
                      value="{{form.city}}" autocapitalize="words">
                    <div class="js-address-country" data-country-id="AddressCountry_{{form.id}}"
                      data-province-container-id="AddressProvinceContainer_{{form.id}}"
                      data-province-id="AddressProvince_{{form.id}}">
                      <label for="AddressCountry_{{form.id}}">{{ 'customer.addresses.country' | t }}</label>
                      <select id="AddressCountry_{{form.id}}" class="input-full" name="address[country]"
                        data-default="{{form.country}}">{{ country_option_tags }}</select>
                    </div>
                    <div id="AddressProvinceContainer_{{form.id}}" style="display: none;">
                      <label for="AddressProvince_{{form.id}}">{{ 'customer.addresses.province' | t }}</label>
                      <select id="AddressProvince_{{form.id}}" class="input-full" name="address[province]"
                        data-default="{{form.province}}"></select>
                    </div>
                    <div class="grid grid--small">
                      <div class="grid__item one-half small--one-whole">
                        <label for="AddressZip_{{form.id}}">{{ 'customer.addresses.zip' | t }}</label>
                        <input type="text" id="AddressZip_{{form.id}}" class="input-full" name="address[zip]"
                          value="{{form.zip}}" autocapitalize="characters">
                      </div>
                      <div class="grid__item one-half small--one-whole">
                        <label for="AddressPhone_{{form.id}}">{{ 'customer.addresses.phone' | t }}</label>
                        <input type="tel" id="AddressPhone_{{form.id}}" class="input-full" name="address[phone]"
                          value="{{form.phone}}">
                      </div>
                    </div>
                    <p>
                      {{ form.set_as_default_checkbox }}
                      <label for="address_default_address_{{form.id}}" class="inline">{{ 'customer.addresses.set_default' | t }}</label>
                    </p>
                    <p>
                      <label for="addresses-update-submit" class="hidden-label">{{ 'customer.addresses.update' | t }}</label>
                      <button type="submit" id="addresses-update-submit" class="btn">
                        {{ 'customer.addresses.update' | t }}
                      </button>
                    </p>
                    <p>
                      <label for="address-edit-toggle" class="hidden-label">{{ 'customer.addresses.cancel' | t }}</label>
                      <button type="button" id="address-edit-toggle" class="text-link address-edit-toggle"
                        data-form-id="{{ form.id }}">{{ 'customer.addresses.cancel' | t }}</button>
                    </p>
                    {%- endform -%}
                  </div>
                  <hr class="hr--medium">
                  {%- endfor -%}
                  {%- liquid
                  if paginate.pages > 1
                  render 'pagination', paginate: paginate
                  endif
                  -%}
                </div>
              </div>
              {%- endpaginate -%}
              {% comment %}===============END Address============================== {% endcomment %}
            </div>
            </p> {% endif %}
          </div>
          <div id="Tab-{{ section.id }}-3" class="tab-content details question3" data-tab="Tab-{{ section.id }}-3"> {% assign index = forloop.index %} {% if forloop.index == index %} <p class="faq-tab__details">
          {%  comment  %}========== Manage Orders==============  {% endcomment %}
            <div class="product-tab__content">
              <table class="table--responsive table--small-text">
                <thead>
                  <tr>
                    <th>{{ 'customer.orders.order_number' | t }}</th>
                    <th>{{ 'customer.orders.date' | t }}</th>
                    <th>{{ 'Count' }}</th>
                    <th>{{ 'customer.orders.payment_status' | t }}</th>
                    <th>{{'View / Track Your Order' }}</th>
                    <th>{{ 'customer.orders.total' | t }}</th>
                    <th>Return / Exchange</th>
                  </tr>
                </thead>
             
                <tbody>
                  {%- for order in customer.orders -%}
                  <tr class="table__section">
                  
                    <td data-label="{{ 'customer.orders.order_number' | t }}">
     
                      <span class="order_info_span">{{ order.name }}</span> 
                  
                    
                    </td>
                    <td data-label="{{ 'customer.orders.date' | t }}">
                      <span class="order_info_span_date">   {{ order.created_at | time_tag: format: 'date' }} </span>
                    </td>
                    <td data-label="{{ 'Count' }}">
                   <span class="order_info_span_count">{{ order.item_count }}</span>   </td>
                     <td data-label="{{ 'customer.orders.payment_status' | t }}">
                      <span class="order_info_span"> {{ order.financial_status_label }}  </span></td> 
                    <td data-label="View / Track"  class="track-order-button section-header__link address-new-toggle" data-order="{{ order.name }}">
                      <div class="main-view-order">
                      {{ 'View Your Order' | link_to: order.customer_url }}
                          <a href="https://hamilton-tracking.unicommerce.com/">Track Your Order</a>
                        </div>
                      </td>
                    <td data-label="{{ 'customer.orders.total' | t }}">
                      <span class="order_info_span_total">{{ order.total_price | money }}</span></td>
                    <td data-order_name={{order.id}} data-label="Return" class="return__exchange">
                      {% if order.fulfillment_status == 'fulfilled' %}
                      <button
                        class="js-return-exchange {% if order.fulfillment_status != 'fulfilled' %} disabled{% endif %}"
                        data-order="{{ order.name }}" data-customer="{{ customer.email }}">Return / Exchange</button>
                      {% else %}
                      <p class="js-return-exchange disabled"> Not Available </p>
                      {% endif %}
                    </td>
                    </tr>                
                    {% assign order_status = order.fulfillment_status %}
                    {% assign cancel_status = order.cancelled_at %}  
                  </tr>
                  {%- endfor -%}
                </tbody>
              </table>
            </div>
            </p> {% endif %}
            {% comment %} endManage Orders {% endcomment %}
          </div>
          {% comment %} Wishlist {% endcomment %}
          <div id="Tab-{{ section.id }}-4" class="tab-content details question4" data-tab="Tab-{{ section.id }}-4"> {% assign index = forloop.index %} {% if forloop.index == index %} <p class="faq-tab__details">
            <div class="product-tab__content">
              Wishlist is Loading.......
            </div>
            </p> {% endif %}
          </div>
            {% comment %} Wishlist {% endcomment %}
        </div>
      </div>
    </div>
  </div>
</div>
{%- liquid
if paginate.pages > 1
render 'pagination', paginate: paginate
endif
-%}
</div>
{%- endpaginate -%}

{% include 'returnprime_script' %}